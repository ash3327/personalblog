"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[2571],{485:(e,n,o)=>{o.d(n,{A:()=>i});const i=o.p+"assets/images/image-1-83829a6979e7ec7541ab69441b68444f.png"},2995:(e,n,o)=>{o.d(n,{A:()=>i});const i=o.p+"assets/images/image-0bf0d28d58a47f3ddffab4878347d4b5.png"},4204:(e,n,o)=>{o.d(n,{A:()=>i});const i=o.p+"assets/images/gui-533c3f5b8d7f0b78f7a4ad1134bc3771.jpeg"},4580:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>c});var i=o(8674),r=o(4848),t=o(8453);const s={title:"Project: P2P Communication App",description:"Real-time audio/video streaming with optimized packet synchronization",slug:"p2p-communication-app",tags:["Project","Python","Networking","Real-time Communication","P2P"],image:"/img//img/docs/p2p/p2p/image.png"},l="Peer-to-Peer Communication App",a={authorsImageUrls:[]},c=[{value:"Key Features",id:"key-features",level:2},{value:"Architecture",id:"architecture",level:2},{value:"Notes",id:"notes",level:2},{value:"Installation",id:"installation",level:2},{value:"Server-Side",id:"server-side",level:2},{value:"Client-Side",id:"client-side",level:2},{value:"Logs",id:"logs",level:2}];function d(e){const n={a:"a",blockquote:"blockquote",code:"code",em:"em",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://github.com/ash3327/Peer-to-Peer-Communication-App",children:(0,r.jsx)(n.img,{src:"https://img.shields.io/badge/View_Project-P2P%20Communication%20App-4285F4?style=flat&logo=github&logoColor=white",alt:"View Project"})})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://github.com/ash3327/Peer-to-Peer-Communication-App",children:(0,r.jsx)(n.img,{src:"https://img.shields.io/badge/public%20repo-github-%2324292e.svg?style=for-the-badge&logo=github&logoColor=white",alt:"GitHub"})}),"\r\n",(0,r.jsx)(n.img,{src:"https://img.shields.io/badge/last%20commit-Apr%202024-%23FFA500.svg?style=for-the-badge&logo=git&logoColor=white",alt:"Last Commit"})]}),"\n",(0,r.jsx)(n.p,{children:"A fork of the project in the semester 2023-24 Term 2, creating a peer-to-peer communication app supporting audio recording, waveform display and editing, and also screen share function."}),"\n",(0,r.jsx)(n.h2,{id:"key-features",children:"Key Features"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Peer-to-peer communication within local area network"}),"\n",(0,r.jsxs)(n.li,{children:["Functions:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Create, join and leave chat rooms"}),"\n",(0,r.jsx)(n.li,{children:"Audio recording"}),"\n",(0,r.jsx)(n.li,{children:"Screen sharing"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:"Synchronization and handling of audio and video streams from multiple users so that they do not hear their own voices"}),"\n"]}),"\n",(0,r.jsxs)("table",{children:[(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:"Chatroom Creation & User Alias"}),(0,r.jsx)("td",{children:"Audio Recording"})]}),(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:(0,r.jsx)("img",{src:"/img/docs/p2p/image-1.png",alt:"Chatroom Creation & User Alias"})}),(0,r.jsx)("td",{children:(0,r.jsx)("img",{src:"/img/docs/p2p/image-2.png",alt:"Audio Recording"})})]}),(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colspan:"2",children:"Screen Sharing"})}),(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colspan:"2",children:(0,r.jsx)("img",{src:"/img/docs/p2p/image-3.png",alt:"Screen Sharing"})})})]}),"\n",(0,r.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Consists of ONE server and multiple clients"}),"\n",(0,r.jsx)(n.li,{children:"The server and clients can be runned on the same machine, or on different machines within the same local area network"}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["The calls between server and clients, visualized:\r\n",(0,r.jsx)(n.img,{src:o(4204).A+"",width:"800",height:"504"})]}),"\n",(0,r.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Functions that allows usage over the internet are not implemented yet due to problems in port forwarding that requires extra care"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(n.p,{children:"To install this package, perform the following:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Execute ",(0,r.jsx)(n.code,{children:"pip3 install -r requirements.txt"})," in command prompt."]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"[!CAUTION]"}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"To allow the usage of the audio-to-text function, you need to manually install the ffmpeg package. (Note that we only allow English transcription for now)"}),"\n",(0,r.jsxs)(n.p,{children:["If you're using conda, then do ",(0,r.jsx)(n.code,{children:"conda install ffmpeg"})," (advised)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"More:"}),(0,r.jsxs)(n.p,{children:["If your OS is linux, then do ",(0,r.jsx)(n.code,{children:"sudo apt install ffmpeg"}),"."]}),(0,r.jsxs)(n.p,{children:["If your OS is windows, you can download FFMPEG from the official download page: ",(0,r.jsx)(n.a,{href:"https://ffmpeg.org/download.html#build-windows",children:"https://ffmpeg.org/download.html#build-windows"}),". (Personally, we used the version ffmpeg-master-latest-win64-gpl.zip provided in ",(0,r.jsx)(n.a,{href:"https://github.com/BtbN/FFmpeg-Builds/releases",children:"https://github.com/BtbN/FFmpeg-Builds/releases"}),")"]}),(0,r.jsxs)(n.p,{children:["If your OS is MacOS, you can also download it from the official download page: ",(0,r.jsx)(n.a,{href:"https://ffmpeg.org/download.html#build-mac",children:"https://ffmpeg.org/download.html#build-mac"}),"."]}),(0,r.jsxs)(n.p,{children:["Note that if you downloaded the executable from the website, you'll have to manually move it (",(0,r.jsx)(n.code,{children:"ffmpeg.exe"})," in the unzipped ",(0,r.jsx)(n.code,{children:"bin"})," subfolder) to your script's root directory (in the SAME layer as other .py files) (or add it to PATH)."]})]}),"\n",(0,r.jsx)(n.p,{children:"Note:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["The application currently only work with computers ",(0,r.jsx)(n.em,{children:"in the same local area network"})," due to port forwarding."]}),"\n"]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"[!CAUTION]"}),"\n",(0,r.jsxs)(n.ol,{start:"2",children:["\n",(0,r.jsx)(n.li,{children:"Please TURN OFF Windows Defender Firewall AND Windows Firewall (or any firewalls) in the private network before using."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"server-side",children:"Server-Side"}),"\n",(0,r.jsx)(n.p,{children:"To start the server, perform the following:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Run ",(0,r.jsx)(n.code,{children:"chat_server.py"})," by calling ",(0,r.jsx)(n.code,{children:"python chat_server.py --port <port>"}),"."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Use the token ",(0,r.jsx)(n.code,{children:"-h"})," to get hints on the arguments."]}),"\n",(0,r.jsxs)(n.li,{children:["Use the token ",(0,r.jsx)(n.code,{children:"-l"})," to show logs of all communication between server and client."]}),"\n",(0,r.jsxs)(n.li,{children:["Use the token ",(0,r.jsx)(n.code,{children:"-r"})," to change the sampling frequency of all audio messages sent to and received from this server."]}),"\n",(0,r.jsxs)(n.li,{children:["Press ",(0,r.jsx)(n.code,{children:"Ctrl+C"})," for the following:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"check the ip and port of the server, or"}),"\n",(0,r.jsx)(n.li,{children:"terminate the server"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Notes:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["You should be able to read the server IP and the port as follows:\r\n",(0,r.jsx)(n.code,{children:"Initializing Chat Server at IP [10.13.252.5] and port [12345]"})]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["You can terminate the server end program and all its associated connections by pressing ",(0,r.jsx)(n.code,{children:"Ctrl+C"})," in the command prompt."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Sampling Frequency can be set with ",(0,r.jsx)(n.code,{children:"-r <frequency>"})," (Default = 5000). It is advised to lower your sampling frequency if your computer cannot handle the default sampling frequency."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"client-side",children:"Client-Side"}),"\n",(0,r.jsx)(n.p,{children:"To start the client-side software, perform the following:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Run ",(0,r.jsx)(n.code,{children:"chat_client.py"})," by calling ",(0,r.jsx)(n.code,{children:"python chat_client.py --ip <ip> --port <port>"}),", where the IP and port can be read from the server side."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Use the token ",(0,r.jsx)(n.code,{children:"-h"})," to get hints on the arguments."]}),"\n",(0,r.jsxs)(n.li,{children:["Use the token ",(0,r.jsx)(n.code,{children:"-l"})," to show logs of all communication between server and client."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Functionalities:"}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Users can click on 'new room' button to enter the name of the room now.\r\n",(0,r.jsx)(n.img,{src:o(485).A+"",width:"911",height:"630"})]}),"\n",(0,r.jsxs)(n.li,{children:["users can click on the room names to join the room directly now.\r\n",(0,r.jsx)(n.img,{src:o(2995).A+"",width:"827",height:"565"})]}),"\n",(0,r.jsxs)(n.li,{children:["Users can mute/unmute his/her voices, and also quit room now.\r\n",(0,r.jsx)(n.img,{src:o(4734).A+"",width:"1200",height:"944"})]}),"\n"]})]}),"\n",(0,r.jsx)(n.h2,{id:"logs",children:"Logs"}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example of server side log:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Initializing Chat Server at IP [10.13.252.5] and port [12345]\r\nStarting server...\r\nAccepted request from: 10.13.252.5 port 1749\r\nI/list                  : 10.13.252.5 1749      : {'action': 'list'}\r\nO/list_rooms            : 10.13.252.5 1749      : {'rooms': []}\r\nI/create                : 10.13.252.5 1749      : {'action': 'create', 'room': 'hello'}\r\nO/created_room          : 10.13.252.5 1749      : {'status': 'ok', 'room': 'hello'}\r\nI/list                  : 10.13.252.5 1749      : {'action': 'list'}\r\nO/list_rooms            : 10.13.252.5 1749      : {'rooms': ['hello']}\r\nI/create                : 10.13.252.5 1749      : {'action': 'create', 'room': 'world'}\r\nO/created_room          : 10.13.252.5 1749      : {'status': 'ok', 'room': 'world'}\r\nI/list                  : 10.13.252.5 1749      : {'action': 'list'}\r\nO/list_rooms            : 10.13.252.5 1749      : {'rooms': ['hello', 'world']}\r\nI/join                  : 10.13.252.5 1749      : {'action': 'join', 'room': 'world'}\r\nO/join_room             : 10.13.252.5 1749      : {'status': 'room already joined', 'room': 'world'}\r\nI/exit                  : 10.13.252.5 1749      : {'action': 'exit'}\r\nEnded request from: 10.13.252.5 port 1749\r\nAccepted request from: 10.13.252.5 port 1819\r\nI/list                  : 10.13.252.5 1819      : {'action': 'list'}\r\nO/list_rooms            : 10.13.252.5 1819      : {'rooms': ['hello', 'world']}\r\nAccepted request from: 10.13.252.5 port 1829\r\nI/list                  : 10.13.252.5 1829      : {'action': 'list'}\r\nO/list_rooms            : 10.13.252.5 1829      : {'rooms': ['hello', 'world']}\r\nI/exit                  : 10.13.252.5 1829      : {'action': 'exit'}\r\nEnded request from: 10.13.252.5 port 1829\r\nI/exit                  : 10.13.252.5 1819      : {'action': 'exit'}\r\nEnded request from: 10.13.252.5 port 1819\n"})})]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:"Example of client side log:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"O/list                  : {'action': 'list'}\r\nI/list_rooms            : {'rooms': ['hello', 'world']}\r\nO/create                : {'action': 'create', 'room': 'room 4'}\r\nO/list                  : {'action': 'list'}\r\nI/created_room          : {'status': 'ok', 'room': 'room 4'}\r\nRoom 'room 4' created successfully.\r\nI/list_rooms            : {'rooms': ['hello', 'world', 'room 4']}\r\nO/join                  : {'action': 'join', 'room': 'world'}\r\nI/join_room             : {'status': 'ok', 'room': 'world'}\r\nJoined room 'world' successfully.\r\nO/join                  : {'action': 'join', 'room': 'world'}\r\nI/join_room             : {'status': 'room already joined', 'room': 'world'}\r\nRoom already joined.\r\nO/create                : {'action': 'create', 'room': 'room 4'}\r\nO/list                  : {'action': 'list'}\r\nI/created_room          : {'status': 'room already exists', 'room': 'room 4'}\r\nFailed to create room.\r\nI/list_rooms            : {'rooms': ['hello', 'world', 'room 4']}\n"})})]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},4734:(e,n,o)=>{o.d(n,{A:()=>i});const i=o.p+"assets/images/image-2-0f02d0a61e389d69f55d686505359489.png"},8453:(e,n,o)=>{o.d(n,{R:()=>s,x:()=>l});var i=o(6540);const r={},t=i.createContext(r);function s(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),i.createElement(t.Provider,{value:n},e.children)}},8674:e=>{e.exports=JSON.parse('{"permalink":"/blog/blog/p2p-communication-app","editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/blog/2024-04-08-p2p-communication-app.md","source":"@site/blog/2024-04-08-p2p-communication-app.md","title":"Project: P2P Communication App","description":"Real-time audio/video streaming with optimized packet synchronization","date":"2024-04-08T00:00:00.000Z","tags":[{"inline":true,"label":"Project","permalink":"/blog/blog/tags/project"},{"inline":true,"label":"Python","permalink":"/blog/blog/tags/python"},{"inline":true,"label":"Networking","permalink":"/blog/blog/tags/networking"},{"inline":true,"label":"Real-time Communication","permalink":"/blog/blog/tags/real-time-communication"},{"inline":true,"label":"P2P","permalink":"/blog/blog/tags/p-2-p"}],"readingTime":4.83,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"Project: P2P Communication App","description":"Real-time audio/video streaming with optimized packet synchronization","slug":"p2p-communication-app","tags":["Project","Python","Networking","Real-time Communication","P2P"],"image":"/img//img/docs/p2p/p2p/image.png"},"unlisted":false,"prevItem":{"title":"Project: Event-Planning App \\"Oasis\\"","permalink":"/blog/blog/oasis-event-planning-app"},"nextItem":{"title":"Project: Vision Transformer Analysis","permalink":"/blog/blog/vision-transformer-analysis"}}')}}]);